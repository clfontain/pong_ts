{"ast":null,"code":"var _jsxFileName = \"/mnt/nfs/homes/cfontain/Documents/Cursus/pong_ts/pong_ts/src/Canvas.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useEffect, useRef } from 'react';\nimport './App.css';\nimport { BallMovement } from './Ball';\nimport { Ball } from './Ball';\nimport { WallCollision } from './WallCollision';\nimport { Paddle } from \"./Paddle\";\nimport { move } from \"./Paddle\";\nimport { PaddleCollision } from './PaddleCollision';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Canvas = () => {\n  _s();\n  const canvasRef = useRef(null);\n  useEffect(() => {\n    let key = {\n      w: false,\n      s: false\n    };\n    window.addEventListener(\"keydown\", e => {\n      switch (e.key) {\n        case 'w':\n          key.w = true;\n          paddle.lastKey = \"w\";\n          //paddle.x += paddle.vel_x;\n          break;\n        case 's':\n          key.s = true;\n          paddle.lastKey = \"s\";\n          break;\n      }\n    });\n    window.addEventListener(\"keyup\", e => {\n      if (e.key === \"w\") key.w = false;\n      paddle.v_y = 0;\n      if (e.key === 's') key.s = false;\n      paddle.v_y = 0;\n    });\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const context = canvas.getContext('2d');\n    if (!context) return;\n    let a = canvas.height / 100 * 2;\n    console.log(a);\n    let ball = new Ball(20, 200, 5, 5, 10, 5);\n    let ratio = canvas.height / 2;\n    console.log(ratio);\n    let paddle = new Paddle(ratio / 10, ratio / 10, ratio / 3, ratio / 20, \"white\", 0, \"null\");\n    const render = () => {\n      context.clearRect(0, 0, canvas.width, canvas.height);\n      BallMovement(context, ball);\n      WallCollision(ball, canvas);\n      move(context, canvas, paddle);\n      if (key.w === true && paddle.lastKey === \"w\") paddle.v_y = -5;else if (key.s === true && paddle.lastKey === \"s\") paddle.v_y = 5;\n      PaddleCollision(ball, paddle);\n      requestAnimationFrame(render);\n    };\n    render();\n    const handleResize = () => {\n      let ratio = window.innerHeight * 0.66;\n      context.canvas.height = ratio;\n      context.canvas.width = window.innerWidth;\n      paddle.x = ratio / 10;\n      paddle.y = ratio / 10;\n      paddle.height = ratio / 3;\n      paddle.width = ratio / 20;\n    };\n    handleResize();\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    id: \"canvas\",\n    ref: canvasRef\n    /*height=\"500px\"\n    width=\"800px\"*/\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 10\n  }, this);\n};\n_s(Canvas, \"UJgi7ynoup7eqypjnwyX/s32POg=\");\n_c = Canvas;\nexport default Canvas;\nvar _c;\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"names":["React","useEffect","useRef","BallMovement","Ball","WallCollision","Paddle","move","PaddleCollision","jsxDEV","_jsxDEV","Canvas","_s","canvasRef","key","w","s","window","addEventListener","e","paddle","lastKey","v_y","canvas","current","context","getContext","a","height","console","log","ball","ratio","render","clearRect","width","requestAnimationFrame","handleResize","innerHeight","innerWidth","x","y","removeEventListener","id","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/mnt/nfs/homes/cfontain/Documents/Cursus/pong_ts/pong_ts/src/Canvas.tsx"],"sourcesContent":["import React from 'react';\nimport {useEffect,useRef} from 'react';\nimport './App.css';\nimport {BallMovement} from './Ball'\nimport {Ball} from './Ball'\nimport {WallCollision} from './WallCollision'\nimport {Paddle} from \"./Paddle\"\nimport {move} from \"./Paddle\"\nimport {PaddleCollision} from './PaddleCollision'\nimport {keys} from \"./Paddle\"\n\n\nconst Canvas = () => {\n\tconst canvasRef = useRef<HTMLCanvasElement | null>(null);\n\tuseEffect(() => \n\t{\n\t\tlet key:keys = {w:false, s:false};\n\t\twindow.addEventListener(\"keydown\", e =>\n\t\t{\n\t\t\tswitch (e.key)\n\t\t\t{\n\t\t\tcase 'w':\n\t\t\t\tkey.w = true;\n\t\t\t\tpaddle.lastKey = \"w\";\n\t\t\t\t//paddle.x += paddle.vel_x;\n\t\t\t\tbreak;\n\t\t\t\tcase 's':\n\t\t\t\t\tkey.s = true;\n\t\t\t\tpaddle.lastKey = \"s\";\n\t\t\t\tbreak;\n\t\t\t}\n\t\t})\n\t\twindow.addEventListener(\"keyup\", e =>\n\t\t{\n\t\t\tif (e.key === \"w\")\n\t\t\t\tkey.w = false;\n\t\t\t\tpaddle.v_y = 0;\n\t\t\t\tif (e.key === 's')\n\t\t\t\tkey.s = false;\n\t\t\t\tpaddle.v_y = 0;\n\t\t\t})\n\t\t\tconst canvas = canvasRef.current;\n\t\t\tif (!canvas)\n\t\t\treturn;\n\t\t\tconst context = canvas.getContext('2d');\n\t\t\tif (!context)\n\t\t\treturn;\n\t\t\tlet a:number = canvas.height /100 *2;\n\t\t\t\n\t\t\tconsole.log(a); \n\t\t\tlet ball = new Ball(20, 200, 5, 5,10,5);\n\t\t\tlet ratio:number = canvas.height / 2;\n\t\t\tconsole.log(ratio);\n\t\t\tlet paddle = new Paddle(ratio / 10, ratio /10, ratio /3, ratio / 20,\"white\", 0, \"null\");\n\t\t\tconst render = () => \n\t\t\t{\n\t\t\t\tcontext.clearRect(0,0,canvas.width, canvas.height);\n\t\t\t\tBallMovement(context, ball);\n\t\t\tWallCollision(ball, canvas);\n\t\t\tmove(context, canvas, paddle);\n\t\t\tif (key.w === true && paddle.lastKey === \"w\")\n\t\t\t\tpaddle.v_y = -5;\n\t\t\telse if (key.s === true && paddle.lastKey === \"s\")\n\t\t\t\tpaddle.v_y = 5;\n\t\t\tPaddleCollision(ball, paddle);\n\t\t\trequestAnimationFrame(render);\n\t\t}\n\t\trender();\n\t\tconst handleResize = () => {\n\t\tlet ratio:number = window.innerHeight * 0.66;\n\t\tcontext.canvas.height = ratio;\n\t\tcontext.canvas.width = window.innerWidth;\n\t\tpaddle.x = ratio / 10;\n\t\tpaddle.y = ratio /10;\n\t\tpaddle.height = ratio / 3;\n\t\tpaddle.width = ratio / 20;\n\t\t}\n\t\thandleResize();\n\t\twindow.addEventListener(\"resize\", handleResize);\n\t\treturn () => window.removeEventListener(\"resize\", handleResize);\n\t}, []);\n\t\n\treturn (<canvas \n\t\tid=\"canvas\"\n\t\tref={canvasRef}\n\t\t/*height=\"500px\"\n\t\twidth=\"800px\"*/>\n\t\t</canvas>);\n}\n\nexport default Canvas\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}